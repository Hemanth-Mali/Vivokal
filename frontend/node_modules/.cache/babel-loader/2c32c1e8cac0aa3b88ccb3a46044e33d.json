{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Hemanth/Desktop/Vivokal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Hemanth/Desktop/Vivokal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{FOOD_CREATE_FAIL,FOOD_CREATE_REQUEST,FOOD_CREATE_REVIEW_FAIL,FOOD_CREATE_REVIEW_REQUEST,FOOD_CREATE_REVIEW_SUCCESS,FOOD_CREATE_SUCCESS,FOOD_DELETE_FAIL,FOOD_DELETE_REQUEST,FOOD_DELETE_SUCCESS,FOOD_DETAILS_FAIL,FOOD_DETAILS_REQUEST,FOOD_DETAILS_SUCCESS,FOOD_LIST_FAIL,FOOD_LIST_REQUEST,FOOD_LIST_SUCCESS,FOOD_UPDATE_FAIL,FOOD_UPDATE_REQUEST,FOOD_UPDATE_SUCCESS}from'../constants/foodConstants';import axios from'axios';export var listFoods=function listFoods(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:FOOD_LIST_REQUEST});_context.next=4;return axios.get(\"/api/foods\");case 4:_yield$axios$get=_context.sent;data=_yield$axios$get.data;dispatch({type:FOOD_LIST_SUCCESS,payload:data});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);dispatch({type:FOOD_LIST_FAIL,payload:_context.t0.response&&_context.t0.response.data.message?_context.t0.response.data.message:_context.t0.message});case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var listFoodDetails=function listFoodDetails(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var _yield$axios$get2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:FOOD_DETAILS_REQUEST});_context2.next=4;return axios.get(\"/api/foods/\".concat(id));case 4:_yield$axios$get2=_context2.sent;data=_yield$axios$get2.data;dispatch({type:FOOD_DETAILS_SUCCESS,payload:data});_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);dispatch({type:FOOD_DETAILS_FAIL,payload:_context2.t0.response&&_context2.t0.response.data.message?_context2.t0.response.data.message:_context2.t0.message});case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var deleteFood=function deleteFood(id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch,getState){var _getState,userInfo,config;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;dispatch({type:FOOD_DELETE_REQUEST});_getState=getState(),userInfo=_getState.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context3.next=6;return axios.delete(\"/api/foods/\".concat(id),config);case 6:dispatch({type:FOOD_DELETE_SUCCESS});_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);dispatch({type:FOOD_DELETE_FAIL,payload:_context3.t0.response&&_context3.t0.response.data.message?_context3.t0.response.data.message:_context3.t0.message});case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function(_x3,_x4){return _ref3.apply(this,arguments);};}();};export var createFood=function createFood(){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch,getState){var _getState2,userInfo,config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;dispatch({type:FOOD_CREATE_REQUEST});_getState2=getState(),userInfo=_getState2.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context4.next=6;return axios.post(\"/api/foods\",{},config);case 6:_yield$axios$post=_context4.sent;data=_yield$axios$post.data;dispatch({type:FOOD_CREATE_SUCCESS,payload:data});_context4.next=14;break;case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](0);dispatch({type:FOOD_CREATE_FAIL,payload:_context4.t0.response&&_context4.t0.response.data.message?_context4.t0.response.data.message:_context4.t0.message});case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[0,11]]);}));return function(_x5,_x6){return _ref4.apply(this,arguments);};}();};export var updateFood=function updateFood(food){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch,getState){var _getState3,userInfo,config,_yield$axios$put,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;dispatch({type:FOOD_UPDATE_REQUEST});_getState3=getState(),userInfo=_getState3.userLogin.userInfo;config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(userInfo.token)}};_context5.next=6;return axios.put(\"/api/foods/\".concat(food._id),food,config);case 6:_yield$axios$put=_context5.sent;data=_yield$axios$put.data;dispatch({type:FOOD_UPDATE_SUCCESS,payload:data});_context5.next=14;break;case 11:_context5.prev=11;_context5.t0=_context5[\"catch\"](0);dispatch({type:FOOD_UPDATE_FAIL,payload:_context5.t0.response&&_context5.t0.response.data.message?_context5.t0.response.data.message:_context5.t0.message});case 14:case\"end\":return _context5.stop();}}},_callee5,null,[[0,11]]);}));return function(_x7,_x8){return _ref5.apply(this,arguments);};}();};export var createFoodReview=function createFoodReview(foodId,review){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch,getState){var _getState4,userInfo,config;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;dispatch({type:FOOD_CREATE_REVIEW_REQUEST});_getState4=getState(),userInfo=_getState4.userLogin.userInfo;config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(userInfo.token)}};_context6.next=6;return axios.post(\"/api/foods/\".concat(foodId,\"/reviews\"),review,config);case 6:dispatch({type:FOOD_CREATE_REVIEW_SUCCESS});_context6.next=12;break;case 9:_context6.prev=9;_context6.t0=_context6[\"catch\"](0);dispatch({type:FOOD_CREATE_REVIEW_FAIL,payload:_context6.t0.response&&_context6.t0.response.data.message?_context6.t0.response.data.message:_context6.t0.message});case 12:case\"end\":return _context6.stop();}}},_callee6,null,[[0,9]]);}));return function(_x9,_x10){return _ref6.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/Hemanth/Desktop/Vivokal/frontend/src/actions/foodActions.js"],"names":["FOOD_CREATE_FAIL","FOOD_CREATE_REQUEST","FOOD_CREATE_REVIEW_FAIL","FOOD_CREATE_REVIEW_REQUEST","FOOD_CREATE_REVIEW_SUCCESS","FOOD_CREATE_SUCCESS","FOOD_DELETE_FAIL","FOOD_DELETE_REQUEST","FOOD_DELETE_SUCCESS","FOOD_DETAILS_FAIL","FOOD_DETAILS_REQUEST","FOOD_DETAILS_SUCCESS","FOOD_LIST_FAIL","FOOD_LIST_REQUEST","FOOD_LIST_SUCCESS","FOOD_UPDATE_FAIL","FOOD_UPDATE_REQUEST","FOOD_UPDATE_SUCCESS","axios","listFoods","dispatch","type","get","data","payload","response","message","listFoodDetails","id","deleteFood","getState","userInfo","userLogin","config","headers","Authorization","token","delete","createFood","post","updateFood","food","put","_id","createFoodReview","foodId","review"],"mappings":"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","sourcesContent":["import { FOOD_CREATE_FAIL, FOOD_CREATE_REQUEST, FOOD_CREATE_REVIEW_FAIL, FOOD_CREATE_REVIEW_REQUEST, FOOD_CREATE_REVIEW_SUCCESS, FOOD_CREATE_SUCCESS, FOOD_DELETE_FAIL, FOOD_DELETE_REQUEST, FOOD_DELETE_SUCCESS, FOOD_DETAILS_FAIL, FOOD_DETAILS_REQUEST, FOOD_DETAILS_SUCCESS, FOOD_LIST_FAIL, FOOD_LIST_REQUEST, FOOD_LIST_SUCCESS, FOOD_UPDATE_FAIL, FOOD_UPDATE_REQUEST, FOOD_UPDATE_SUCCESS } from '../constants/foodConstants'\r\nimport axios from 'axios'\r\n\r\nexport const listFoods= () => async(dispatch) =>{\r\n    try{\r\n        dispatch({type:FOOD_LIST_REQUEST})\r\n        const {data}= await axios.get(`/api/foods`)\r\n        dispatch({type:FOOD_LIST_SUCCESS,\r\n        payload:data,\r\n        })\r\n} catch(error){\r\n    dispatch({type:FOOD_LIST_FAIL,\r\n     payload: error.response && error.response.data.message?error.response.data.message:error.message,\r\n    })\r\n}\r\n}\r\n\r\nexport const listFoodDetails= (id) => async(dispatch) =>{\r\n    try{\r\n        dispatch({type:FOOD_DETAILS_REQUEST})\r\n        const {data}= await axios.get(`/api/foods/${id}`)\r\n        dispatch({type:FOOD_DETAILS_SUCCESS,\r\n        payload:data,\r\n        })\r\n} catch(error){\r\n    dispatch({type:FOOD_DETAILS_FAIL,\r\n     payload: error.response && error.response.data.message?error.response.data.message:error.message,\r\n    })\r\n}\r\n}\r\n\r\nexport const deleteFood = (id) => async(dispatch,getState) =>{\r\n    try{\r\n        dispatch({\r\n            type: FOOD_DELETE_REQUEST,\r\n        })\r\n\r\n        const { userLogin: {userInfo},} = getState()\r\n\r\n        const config = {\r\n            headers:{\r\n                Authorization : `Bearer ${userInfo.token}`, \r\n            },\r\n        }\r\n\r\n         await axios.delete(`/api/foods/${id}`,config)\r\n \r\n        dispatch({\r\n            type:FOOD_DELETE_SUCCESS,\r\n            \r\n        })  \r\n\r\n    } catch(error){\r\n        dispatch({type:FOOD_DELETE_FAIL,\r\n            payload: error.response && error.response.data.message?error.response.data.message:error.message,\r\n           })\r\n    }\r\n    }   \r\n    \r\n    export const createFood = () => async(dispatch,getState) =>{\r\n        try{\r\n            dispatch({\r\n                type: FOOD_CREATE_REQUEST,\r\n            })\r\n    \r\n            const { userLogin: {userInfo},} = getState()\r\n    \r\n            const config = {\r\n                headers:{\r\n                    Authorization : `Bearer ${userInfo.token}`, \r\n                },\r\n            }\r\n    \r\n            const {data}= await axios.post(`/api/foods`,{},config)\r\n     \r\n            dispatch({\r\n                type:FOOD_CREATE_SUCCESS,\r\n                payload:data \r\n                \r\n            })  \r\n    \r\n        } catch(error){\r\n            dispatch({type:FOOD_CREATE_FAIL,\r\n                payload: error.response && error.response.data.message?error.response.data.message:error.message,\r\n               })\r\n        }\r\n        }    \r\n\r\n        export const updateFood = (food) => async(dispatch,getState) =>{\r\n            try{\r\n                dispatch({\r\n                    type: FOOD_UPDATE_REQUEST,\r\n                })\r\n        \r\n                const { userLogin: {userInfo},} = getState()\r\n        \r\n                const config = {\r\n                    headers:{\r\n                        'Content-Type':'application/json',\r\n                        Authorization : `Bearer ${userInfo.token}`, \r\n                    },\r\n                }\r\n        \r\n                const {data}= await axios.put(`/api/foods/${food._id}`,food,config)\r\n         \r\n                dispatch({\r\n                    type:FOOD_UPDATE_SUCCESS,\r\n                    payload:data \r\n                    \r\n                })  \r\n        \r\n            } catch(error){\r\n                dispatch({type:FOOD_UPDATE_FAIL,\r\n                    payload: error.response && error.response.data.message?error.response.data.message:error.message,\r\n                   })\r\n            }\r\n            }   \r\n            \r\n            export const createFoodReview = (foodId,review) => async(dispatch,getState) =>{\r\n                try{\r\n                    dispatch({\r\n                        type: FOOD_CREATE_REVIEW_REQUEST,\r\n                    })\r\n            \r\n                    const { userLogin: {userInfo},} = getState()\r\n            \r\n                    const config = {\r\n                        headers:{\r\n                            'Content-Type':'application/json',\r\n                            Authorization : `Bearer ${userInfo.token}`, \r\n                        },\r\n                    }\r\n            \r\n                 await axios.post(`/api/foods/${foodId}/reviews`,review,config)\r\n             \r\n                    dispatch({\r\n                        type:FOOD_CREATE_REVIEW_SUCCESS,\r\n                        \r\n                    })  \r\n            \r\n                } catch(error){\r\n                    dispatch({type:FOOD_CREATE_REVIEW_FAIL,\r\n                        payload: error.response && error.response.data.message?error.response.data.message:error.message,\r\n                       })\r\n                }\r\n                }  "]},"metadata":{},"sourceType":"module"}